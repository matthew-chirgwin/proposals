<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="795" height="1120"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="795" height="1120"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 59.284222437999986 L 54.76552672655859 1120.0671936580002" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 305.2400161836549 59.284222437999986 L 305.2400161836549 1120.0671936580002" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 469.8059731237591 59.284222437999986 L 469.8059731237591 1120.0671936580002" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 612.4833935304323 59.284222437999986 L 612.4833935304323 1120.0671936580002" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 11.786477457999997 L 100.73517475311718 11.786477457999997 L 100.73517475311718 59.284222437999986 L 8.795878699999996 59.284222437999986 L 8.795878699999996 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Browser</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 259.6748099905924 11.786477457999997 L 350.8052223767174 11.786477457999997 L 350.8052223767174 59.284222437999986 L 259.6748099905924 59.284222437999986 L 259.6748099905924 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="278.7618667695924" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Express</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 438.4998764277669 11.786477457999997 L 501.11206981975124 11.786477457999997 L 501.11206981975124 59.284222437999986 L 438.4998764277669 59.284222437999986 L 438.4998764277669 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="457.5869332067669" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">IDP</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 572.6196796469401 11.786477457999997 L 652.3471074139245 11.786477457999997 L 652.3471074139245 59.284222437999986 L 572.6196796469401 59.284222437999986 L 572.6196796469401 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="591.7067364259401" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Admin</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 296.4441374836549 117.33702185799999 L 314.0358948836549 117.33702185799999 L 314.0358948836549 615.183756278 L 296.4441374836549 615.183756278 L 296.4441374836549 117.33702185799999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 603.6875148304323 444.54370949799994 L 621.2792722304323 444.54370949799994 L 621.2792722304323 565.926835558 L 603.6875148304323 565.926835558 L 603.6875148304323 444.54370949799994" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 296.4441374836549 731.2893551180001 L 314.0358948836549 731.2893551180001 L 314.0358948836549 991.6473646380001 L 296.4441374836549 991.6473646380001 L 296.4441374836549 731.2893551180001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><g><rect fill="white" stroke="none" x="88.22378181297786" y="94.46773723799998" width="174.7621005842578" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="90.86254542297786" y="110.30031889799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP websocket upgrade</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 117.33702185799999 L 293.51217791698826 117.33702185799999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(296.4441374836549,117.33702185799999) translate(-296.4441374836549,-117.33702185799999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 281.78433965032156 110.00712294133332 L 296.4441374836549 117.33702185799999 L 281.78433965032156 124.66692077466665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="334.85280780698827" y="143.72465795799997" width="98.99258459304687" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="334.85280780698827" y="161.31641535799997" width="81.04699743484375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="337.4915714169883" y="159.55723961799998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Inflate session</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="337.4915714169883" y="177.148997018" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">from cookie</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 314.0358948836549 184.18569997799997 L 384.40292448365494 184.18569997799997 L 384.40292448365494 207.05498459799998 L 316.96785445032157 207.05498459799998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.0358948836549,207.05498459799998) translate(-314.0358948836549,-207.05498459799998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.6956927169883 199.7250856813333 L 314.0358948836549 207.05498459799998 L 328.6956927169883 214.38488351466665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="334.85280780698827" y="233.44262069799998" width="96.55163610671875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="337.4915714169883" y="249.275202358" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token expired</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 314.0358948836549 256.311905318 L 384.40292448365494 256.311905318 L 384.40292448365494 279.181189938 L 316.96785445032157 279.181189938" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.0358948836549,279.181189938) translate(-314.0358948836549,-279.181189938)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.6956927169883 271.85129102133334 L 314.0358948836549 279.181189938 L 328.6956927169883 286.51108885466664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="343.6486865069882" y="305.568826038" width="96.5444949934375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.2874501169882" y="321.401407698" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 314.0358948836549 328.43811065799997 L 466.87401355709244 328.43811065799997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(469.8059731237591,328.43811065799997) translate(-469.8059731237591,-328.43811065799997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 455.14617529042573 321.1082117413333 L 469.8059731237591 328.43811065799997 L 455.14617529042573 335.7680095746666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="347.313679793121" y="354.825746758" width="89.21450842117187" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="349.95244340312104" y="370.658328418" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 469.8059731237591 377.69503137799995 L 316.96785445032157 377.69503137799995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.0358948836549,377.69503137799995) translate(-314.0358948836549,-377.69503137799995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.6956927169883 370.3651324613333 L 314.0358948836549 377.69503137799995 L 328.6956927169883 385.0249302946666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="345.79707607370375" y="404.08266747799996" width="174.7621005842578" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="345.79707607370375" y="421.67442487799997" width="226.12925756667968" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="348.43583968370376" y="419.915249138" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP websocket upgrade</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="348.43583968370376" y="437.507006538" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">with token in Authorization header</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 314.0358948836549 444.54370949799994 L 600.7555552637656 444.54370949799994" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(603.6875148304323,444.54370949799994) translate(-603.6875148304323,-444.54370949799994)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 589.027716997099 437.2138105813333 L 603.6875148304323 444.54370949799994 L 589.027716997099 451.8736084146666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="642.0961851537656" y="470.93134559799995" width="147.07417333816406" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="644.7349487637656" y="486.76392725799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Store token in context</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 621.2792722304323 493.800630218 L 691.6463018304323 493.800630218 L 691.6463018304323 516.669914838 L 624.211231797099 516.669914838" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(621.2792722304323,516.669914838) translate(-621.2792722304323,-516.669914838)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 635.9390700637656 509.3400159213333 L 621.2792722304323 516.669914838 L 635.9390700637656 523.9998137546667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="383.288103905735" y="543.057550938" width="151.14720190261718" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.926867515735" y="558.8901325979999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Upgrade to websocket</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 603.6875148304323 565.926835558 L 316.96785445032157 565.926835558" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.0358948836549,565.926835558) translate(-314.0358948836549,-565.926835558)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.6956927169883 558.5969366413333 L 314.0358948836549 565.926835558 L 328.6956927169883 573.2567344746667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="100.03123115379817" y="592.314471658" width="151.14720190261718" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="102.66999476379817" y="608.147053318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Upgrade to websocket</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 296.4441374836549 615.183756278 L 57.69748629322525 615.183756278" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(54.76552672655859,615.183756278) translate(-54.76552672655859,-615.183756278)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 607.8538573613333 L 54.76552672655859 615.183756278 L 69.42532455989192 622.5136551946667 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 38.93294506655859 641.571392378 L 612.4833935304323 641.571392378 L 628.3159751904323 657.403974038 L 628.3159751904323 682.0324343980001 L 38.93294506655859 682.0324343980001 L 38.93294506655859 641.571392378 M 612.4833935304323 641.571392378 L 612.4833935304323 657.403974038 L 628.3159751904323 657.403974038" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="276.587976363847" y="666.1998527380001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Some time later...</text></g><g><g><rect fill="white" stroke="none" x="86.72772620995052" y="708.4200704980001" width="177.7542117903125" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="89.36648981995052" y="724.252652158" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP Websocket upgrade</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 731.2893551180001 L 293.51217791698826 731.2893551180001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(296.4441374836549,731.2893551180001) translate(-296.4441374836549,-731.2893551180001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 281.78433965032156 723.9594562013334 L 296.4441374836549 731.2893551180001 L 281.78433965032156 738.6192540346668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="334.85280780698827" y="757.6769912180001" width="98.99258459304687" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="334.85280780698827" y="775.2687486180001" width="81.04699743484375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="337.4915714169883" y="773.5095728780001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Inflate session</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="337.4915714169883" y="791.1013302780001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">from cookie</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 314.0358948836549 798.138033238 L 384.40292448365494 798.138033238 L 384.40292448365494 821.0073178580001 L 316.96785445032157 821.0073178580001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.0358948836549,821.0073178580001) translate(-314.0358948836549,-821.0073178580001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.6956927169883 813.6774189413334 L 314.0358948836549 821.0073178580001 L 328.6956927169883 828.3372167746668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="334.85280780698827" y="847.3949539580001" width="96.55163610671875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="337.4915714169883" y="863.227535618" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token expired</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 314.0358948836549 870.264238578 L 384.40292448365494 870.264238578 L 384.40292448365494 893.133523198 L 316.96785445032157 893.133523198" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.0358948836549,893.133523198) translate(-314.0358948836549,-893.133523198)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.6956927169883 885.8036242813333 L 314.0358948836549 893.133523198 L 328.6956927169883 900.4634221146667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="339.2507471569882" y="919.521159298" width="96.5444949934375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="341.8895107669882" y="935.353740958" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 314.0358948836549 942.3904439180001 L 452.2142157237591 942.3904439180001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 443.4183370237591 933.5945652180001 L 461.0100944237591 951.1863226180001 M 443.4183370237591 951.1863226180001 L 461.0100944237591 933.5945652180001" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g><g><g><rect fill="white" stroke="none" x="100.03123115379817" y="968.7780800180001" width="151.14720190261718" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="102.66999476379817" y="984.610661678" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Upgrade to websocket</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 296.4441374836549 991.6473646380001 L 57.69748629322525 991.6473646380001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(54.76552672655859,991.6473646380001) translate(-54.76552672655859,-991.6473646380001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 984.3174657213334 L 54.76552672655859 991.6473646380001 L 69.42532455989192 998.9772635546668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="79.98037899989193" y="1018.0350007380001" width="96.52302587722656" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="79.98037899989193" y="1035.626758138" width="200.04478491042968" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="82.61914260989192" y="1033.867582398" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">WS message:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="82.61914260989192" y="1051.459339798" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Session expired, refresh page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 305.2400161836549 1058.4960427580002 L 57.69748629322525 1058.4960427580002" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(54.76552672655859,1058.4960427580002) translate(-54.76552672655859,-1058.4960427580002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 1051.1661438413335 L 54.76552672655859 1058.4960427580002 L 69.42532455989192 1065.8259416746669 Z"/></g></g></g><g/><g/><g/><g/></g></svg>